<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Panel de Administración</title>

        <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/pure-min.css">
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/grids-responsive-old-ie-min.css">
        <![endif]-->
        <!--[if gt IE 8]><!-->
            <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.2/build/grids-responsive-min.css">
        <!--<![endif]-->
            <link rel="stylesheet" href="/public/css/layouts/admin-menu.css">
    </head>

    <body>
        <!--
            Your HTML goes here. Visit purecss.io/layouts/ for some sample HTML code.
        -->
        <div id="layout">
            <!-- Menu toggle -->
            <a href="#menu" id="menuLink" class="menu-link">
                <!-- Hamburger icon -->
                <span>&nbsp;</span>
            </a>

            <div id="menu">
                <div class="pure-menu">
                    <a class="pure-menu-heading" href="#">Admin</a>
                    <ul class="pure-menu-list">
                        {{range .Models}}
                            <li class="pure-menu-item{{if .Current}} pure-menu-selected{{end}}"><a href="#" class="pure-menu-link">{{.Name}}</a></li>
                        {{end}}
                    </ul>
                </div>
            </div>

            <div id="main">
                <div class="header">
                    <h1>Panel de Administración</h1>
                    <h2>Iglesias</h2>
                </div>

                <div class="content">
                    <h2 class="content-subhead">Lista de Iglesias</h2>

                    {{range .Churches}}
                    <form id="form-{{.Handle}}" name="form" class="pure-form pure-form-stacked" action="/admin/church/update/{{.Handle}}" method="post">
                        <fieldset>
                            <legend>{{.Name}}</legend>

                            <label for="name-{{.Handle}}">Nombre</label>
                            <input class="pure-input-1" id="name-{{.Handle}}" name="name" type="text" value="{{.Name}}">

                            <label for="handle-{{.Handle}}">Etiqueta</label>
                            <input class="pure-input-1" id="handle-{{.Handle}}" name="handle" type="text" value="{{.Handle}}">

                            <label for="address-{{.Handle}}">Dirección</label>
                            <input class="pure-input-1" id="address-{{.Handle}}" name="address" type="text" value="{{.Address}}">

                            <label for="mission-{{.Handle}}">Declaración de Misión</label>
                            <input class="pure-input-1" id="mission-{{.Handle}}" name="mission" type="text" value="{{.Mission}}">

                            <label for="default-{{.Handle}}" class="pure-checkbox">
                                <input id="default-{{.Handle}}" name="default" type="checkbox" value="true" {{if .Default}}checked{{end}}>
                                Iglesia por defecto (¡Sólo puede haber una!)
                            </label>

                            <button type="submit" class="pure-input-1-4 pure-button pure-button-primary">Guardar</button>
                            <a class="pure-input-1-4 pure-button pure-button-primary" href="/admin/church/delete/{{.Handle}}">Delete</a>
                        </fieldset>
                    </form>
                    {{end}}

                    <a id="NewChurchButton" class="pure-button pure-button-primary" onclick="NewChurch()">Nueva Iglesia</a>

                    <form id="NewChurchForm" class="hidden pure-form pure-form-stacked" action="/admin/church/new/" method="post" enctype="application/x-www-form-urlencoded">
                        <fieldset>
                            <legend>Nueva Iglesia</legend>

                            <label for="name">Nombre</label>
                            <input class="pure-input-1" id="name" name="name" type="text" placeholder="La Vinya Santiago de Compostela">

                            <label for="handle">Etiqueta</label>
                            <input class="pure-input-1" id="handle" name="handle" type="text" placeholder="compostela">

                            <label for="address">Dirección</label>
                            <input class="pure-input-1" id="address" name="address" type="text" placeholder="Avda Inventada 123">

                            <label for="mission">Declaración de Misión</label>
                            <input class="pure-input-1" id="mission" name="mission" type="text" placeholder="Locos por Jesús! Siempre buscando llevar su amor a todas partes.">

                            <label for="default" class="pure-checkbox">
                                <input id="default" type="checkbox" name="default" value="true">
                                Iglesia por defecto (¡Sólo puede haber una!)
                            </label>

                            <button type="submit" class="pure-button pure-button-primary">Guardar</button>
                        </fieldset>
                    </form>
                    <!--<div class="pure-g">-->
                        <!--<div class="pure-u-3-4">-->

                        <!--</div>-->
                        <!--<div class="pure-u-1-4">-->
                        <!--</div>-->
                    <!--</div>-->

                </div>
            </div>
        </div>
        <script src="/public/js/ui.js"></script>
        <script charset="utf-8">
            (function (window, document){
                NewChurchButton.onclick = function (e){
                    document.toggleClass(document.getElementById('NewChurchForm'),"hidden")
                    document.toggleClass(document.getElementById('NewChurchButton'),"hidden")
                }
            }(this, this.document))
        </script>


    </body>
</html>

